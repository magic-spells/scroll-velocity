{"version":3,"file":"scroll-velocity.js","sources":["../src/scroll-velocity.js"],"sourcesContent":["/*\n\tscroll-velocity (hybrid + responsive)\n\t-------------------------------------\n\tthis is a drop-in velocity tracker with intuitive API and mobile-optimized smoothness.\n\tit uses adaptive physics: blend-to-target (responsiveness), then rAF decay (friction * attraction),\n\tand exposes multiple css vars for flexible animation control.\n\n\tkey features in v0.2.0:\n\t- uses 'hybrid' sampling by default - adapts based on event timing for mobile-optimized smoothness\n\t- intuitive API: higher responsiveness = more responsive, higher attraction = stronger pull to zero\n\t- normalization is relative to maxVelocity (not a fixed divisor), so [-1..1] matches your configured clamp\n\t- writes extra css vars: --scroll-velocity-abs, --scroll-velocity-pow, --scroll-velocity-raw\n\t- respects prefers-reduced-motion\n\n\tusage\n\t-----\n\timport { ScrollVelocity } from './scroll-velocity-loose.js';\n\tconst sv = new ScrollVelocity({\n\t\ttarget: document.body,   // element that will receive the css vars\n\t\tsampleMode: 'hybrid',   // 'hybrid' | 'delta' | 'time' (hybrid is the recommended default)\n\t\tresponsiveness: 0.35,   // higher = more responsive to new scroll input, lower = smoother/laggier\n\t\tfriction: 0.08,          // friction strength; higher = more friction (faster stopping)\n\t\tattraction: 0.04,        // strength of pull toward zero (0..1); higher = stronger pull\n\t\tthreshold: 0.02,         // stop when |velocity| < threshold\n\t\tmaxVelocity: 200,        // clamp for raw velocity; normalization uses this value\n\t\twriteCSSVariables: true, // set to false if you only want programmatic reads\n\t\trespectReducedMotion: true\n\t});\n\tsv.start();\n\t// sv.stop(); sv.getVelocity(); sv.getNormalizedVelocity(); sv.setOptions({ ... })\n*/\n\n/**\n * @typedef {Object} ScrollVelocityOptions\n * @property {HTMLElement} [target=document.body] element to receive css variables\n * @property {('delta'|'time'|'hybrid')} [sampleMode='hybrid'] how to sample scroll input; 'hybrid' adapts based on event timing, 'delta' mimics the old feel\n * @property {number} [responsiveness=0.35] how quickly it responds to new scroll input; higher = more responsive\n * @property {number} [friction=0.08] friction strength; higher = more friction (faster stopping) (0..1)\n * @property {number} [attraction=0.04] how strongly it's pulled toward zero; higher = stronger pull to zero (0..1)\n * @property {number} [threshold=0.02] below this absolute velocity, snap to zero\n * @property {number} [maxVelocity=200] absolute clamp for the raw velocity (used for normalization)\n * @property {boolean} [writeCSSVariables=true] whether to write css custom properties\n * @property {boolean} [respectReducedMotion=true] if true, disables velocity when user prefers reduced motion\n */\n\n/**\n * clamp helper: keeps a number within a range\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nfunction clamp(value, min, max) {\n\treturn Math.max(min, Math.min(max, value));\n}\n\n/**\n * scroll-velocity: loose, responsive version\n * tracks signed scroll velocity and exposes both raw and normalized values.\n */\nexport class ScrollVelocity {\n\t/**\n\t * @param {ScrollVelocityOptions} [options] see typedef above\n\t */\n\tconstructor(options = {}) {\n\t\t// config with loose, responsive defaults\n\t\tthis.target = options.target || document.body;\n\t\tthis.sampleMode = options.sampleMode || \"hybrid\";\n\t\tthis.responsiveness =\n\t\t\ttypeof options.responsiveness === \"number\" ? options.responsiveness : 0.35;\n\t\tthis.friction =\n\t\t\ttypeof options.friction === \"number\" ? options.friction : 0.08;\n\t\tthis.attraction =\n\t\t\ttypeof options.attraction === \"number\" ? options.attraction : 0.04;\n\t\tthis.threshold =\n\t\t\ttypeof options.threshold === \"number\" ? options.threshold : 0.02;\n\t\tthis.maxVelocity =\n\t\t\ttypeof options.maxVelocity === \"number\" ? options.maxVelocity : 200;\n\t\tthis.writeCSSVariables = options.writeCSSVariables !== false;\n\t\tthis.respectReducedMotion = options.respectReducedMotion !== false;\n\n\t\t// internal state\n\t\tthis._isRunning = false;\n\t\tthis._rafId = 0;\n\t\tthis._velocity = 0; // raw signed velocity (unit depends on sampling mode)\n\t\tthis._lastScrollY = 0;\n\t\tthis._lastTime = 0; // performance.now() timestamp for time sampling\n\t\tthis._boundOnScroll = this._onScroll.bind(this);\n\t\tthis._boundOnRaf = this._onRaf.bind(this);\n\t}\n\n\t/**\n\t * start tracking and writing css variables\n\t */\n\tstart() {\n\t\tif (this._isRunning) return;\n\t\tthis._isRunning = true;\n\t\tthis._lastScrollY = window.scrollY || window.pageYOffset || 0;\n\t\tthis._lastTime = performance.now();\n\t\twindow.addEventListener(\"scroll\", this._boundOnScroll, { passive: true });\n\t\tthis._rafId = requestAnimationFrame(this._boundOnRaf);\n\t}\n\n\t/** stop tracking */\n\tstop() {\n\t\tif (!this._isRunning) return;\n\t\tthis._isRunning = false;\n\t\twindow.removeEventListener(\"scroll\", this._boundOnScroll);\n\t\tif (this._rafId) cancelAnimationFrame(this._rafId);\n\t\tthis._rafId = 0;\n\t\tthis._velocity = 0;\n\t\tthis._writeCSS(0);\n\t}\n\n\t/**\n\t * update runtime options without reconstructing\n\t * @param {Partial<ScrollVelocityOptions>} nextOptions\n\t */\n\tsetOptions(nextOptions = {}) {\n\t\tif (\"target\" in nextOptions && nextOptions.target)\n\t\t\tthis.target = nextOptions.target;\n\t\tif (\"sampleMode\" in nextOptions)\n\t\t\tthis.sampleMode = nextOptions.sampleMode || \"hybrid\";\n\t\tif (\"responsiveness\" in nextOptions && typeof nextOptions.responsiveness === \"number\")\n\t\t\tthis.responsiveness = nextOptions.responsiveness;\n\t// backwards compatibility for old parameter name\n\tif (\"dampening\" in nextOptions && typeof nextOptions.dampening === \"number\")\n\t\t\tthis.responsiveness = nextOptions.dampening;\n\t\tif (\"friction\" in nextOptions && typeof nextOptions.friction === \"number\")\n\t\t\tthis.friction = nextOptions.friction;\n\t\tif (\n\t\t\t\"attraction\" in nextOptions &&\n\t\t\ttypeof nextOptions.attraction === \"number\"\n\t\t)\n\t\t\tthis.attraction = nextOptions.attraction;\n\t\tif (\"threshold\" in nextOptions && typeof nextOptions.threshold === \"number\")\n\t\t\tthis.threshold = nextOptions.threshold;\n\t\tif (\n\t\t\t\"maxVelocity\" in nextOptions &&\n\t\t\ttypeof nextOptions.maxVelocity === \"number\"\n\t\t)\n\t\t\tthis.maxVelocity = nextOptions.maxVelocity;\n\t\tif (\"writeCSSVariables\" in nextOptions)\n\t\t\tthis.writeCSSVariables = !!nextOptions.writeCSSVariables;\n\t\tif (\"respectReducedMotion\" in nextOptions)\n\t\t\tthis.respectReducedMotion = !!nextOptions.respectReducedMotion;\n\t}\n\n\t/**\n\t * get the current raw velocity (signed)\n\t * @returns {number}\n\t */\n\tgetVelocity() {\n\t\treturn this._velocity;\n\t}\n\n\t/**\n\t * get normalized velocity in [-1, 1], relative to maxVelocity\n\t * @returns {number}\n\t */\n\tgetNormalizedVelocity() {\n\t\tif (this.maxVelocity <= 0) return 0;\n\t\treturn clamp(this._velocity / this.maxVelocity, -1, 1);\n\t}\n\n\t// internal: scroll handler\n\t_onScroll() {\n\t\t// honor reduced motion preference\n\t\tif (\n\t\t\tthis.respectReducedMotion &&\n\t\t\twindow.matchMedia &&\n\t\t\twindow.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n\t\t) {\n\t\t\tthis._velocity = 0;\n\t\t\tthis._writeCSS(0);\n\t\t\t// still schedule rAF so we keep variables fresh\n\t\t\tif (!this._rafId) this._rafId = requestAnimationFrame(this._boundOnRaf);\n\t\t\treturn;\n\t\t}\n\n\t\tconst y = window.scrollY || window.pageYOffset || 0;\n\t\tconst now = performance.now();\n\t\tconst deltaY = y - this._lastScrollY;\n\t\tconst deltaT = now - this._lastTime || 16.7; // ms\n\t\tthis._lastScrollY = y;\n\t\tthis._lastTime = now;\n\n\t\t// sampling modes\n\t\tlet instantaneous;\n\t\tif (this.sampleMode === \"time\") {\n\t\t\t// time-aware: pixels per millisecond (feels consistent across event coalescing)\n\t\t\tinstantaneous = deltaT > 0 ? deltaY / deltaT : 0; // px per ms\n\t\t\t// scale up to be comparable with old raw deltas so the numbers feel punchy\n\t\t\tinstantaneous *= 12; // tuning factor; adjust to taste\n\t\t} else if (this.sampleMode === \"hybrid\") {\n\t\t\t// hybrid: adaptive sampling based on event timing characteristics\n\t\t\tconst cappedDeltaT = Math.max(deltaT, 4); // prevent extreme divisions\n\t\t\tconst filteredDeltaY = Math.abs(deltaY) < 0.3 ? 0 : deltaY; // noise filter for mobile settling\n\t\t\t\n\t\t\tif (cappedDeltaT < 10) {\n\t\t\t\t// rapid events: favor delta with slight time smoothing for responsiveness\n\t\t\t\tinstantaneous = filteredDeltaY * (0.85 + 0.15 * (cappedDeltaT / 10));\n\t\t\t} else if (cappedDeltaT > 25) {\n\t\t\t\t// slow events: time-based with adaptive scaling to prevent sluggishness\n\t\t\t\tconst adaptiveScale = 6 + Math.log(cappedDeltaT) * 2;\n\t\t\t\tinstantaneous = (filteredDeltaY / cappedDeltaT) * adaptiveScale;\n\t\t\t} else {\n\t\t\t\t// normal events: smooth blend of both approaches\n\t\t\t\tconst deltaRatio = (25 - cappedDeltaT) / 15; // 1.0â†’0.0 as time increases\n\t\t\t\tconst deltaComponent = filteredDeltaY * 0.7;\n\t\t\t\tconst timeComponent = (filteredDeltaY / cappedDeltaT) * 8;\n\t\t\t\tinstantaneous = deltaRatio * deltaComponent + (1 - deltaRatio) * timeComponent;\n\t\t\t}\n\t\t} else {\n\t\t\t// delta-based: raw pixels since last event (older feel; punchy)\n\t\t\tinstantaneous = deltaY; // px\n\t\t}\n\n\t\t// blend toward target (higher responsiveness = faster response to new input)\n\t\tconst targetVelocity = this._velocity + instantaneous;\n\t\tthis._velocity += (targetVelocity - this._velocity) * this.responsiveness;\n\t\tthis._velocity = clamp(this._velocity, -this.maxVelocity, this.maxVelocity);\n\n\t\t// make sure rAF loop is running\n\t\tif (!this._rafId) this._rafId = requestAnimationFrame(this._boundOnRaf);\n\t}\n\n\t// internal: animation frame decay + css write\n\t_onRaf() {\n\t\tthis._rafId = 0;\n\n\t\t// decay step (skip if reduced motion)\n\t\tif (\n\t\t\t!(\n\t\t\t\tthis.respectReducedMotion &&\n\t\t\t\twindow.matchMedia &&\n\t\t\t\twindow.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n\t\t\t)\n\t\t) {\n\t\t\tthis._velocity *= (1 - this.friction); // inverted: higher friction = more stopping power\n\t\t\tthis._velocity *= (1 - this.attraction); // inverted: higher attraction = stronger pull to zero\n\t\t\tif (Math.abs(this._velocity) < this.threshold) this._velocity = 0;\n\t\t}\n\n\t\tthis._writeCSS(this.getNormalizedVelocity());\n\n\t\t// continue while moving\n\t\tif (this._isRunning && Math.abs(this._velocity) > 0) {\n\t\t\tthis._rafId = requestAnimationFrame(this._boundOnRaf);\n\t\t}\n\t}\n\n\t// internal: write css variables\n\t_writeCSS(normalized) {\n\t\tif (!this.writeCSSVariables || !this.target || !this.target.style) return;\n\t\tconst abs = Math.abs(normalized);\n\t\t// non-linear boost for mid-range perception\n\t\tconst pow = Math.min(1, Math.pow(abs, 0.7) * 1.35);\n\t\tthis.target.style.setProperty(\n\t\t\t\"--scroll-velocity\",\n\t\t\tString(normalized.toFixed(4)),\n\t\t);\n\t\tthis.target.style.setProperty(\n\t\t\t\"--scroll-velocity-abs\",\n\t\t\tString(abs.toFixed(4)),\n\t\t);\n\t\tthis.target.style.setProperty(\n\t\t\t\"--scroll-velocity-pow\",\n\t\t\tString(pow.toFixed(4)),\n\t\t);\n\t\tthis.target.style.setProperty(\n\t\t\t\"--scroll-velocity-raw\",\n\t\t\tString(this._velocity.toFixed(2)),\n\t\t);\n\t}\n}\n"],"names":[],"mappings":"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"}